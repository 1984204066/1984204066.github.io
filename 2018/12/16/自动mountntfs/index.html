<!doctype html>
<html lang="en-us">
  <head>
    <title>自动mountntfs // 不动闲心 の blog</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.89.4" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://1980204066.github.io.git/css/main.min.4a7ec8660f9a44b08c4da97c5f2e31b1192df1d4d0322e65c0dbbc6ecb1b863f.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="自动mountntfs"/>
<meta name="twitter:description" content="/etc/fstab
UUID=&quot;60CA0B46CA0B17C4&quot; /mnt/lenovo ntfs defaults,noauto,user,exec 0 0
ntfs-3g 需要一些设置： https://www.tuxera.com/community/ntfs-3g-faq/#useroption
Why do I get &ldquo;fusermount: option blkdev is privileged&rdquo; error?
Unprivileged block device mounts work only if all the below requirements are met:
  ntfs-3g is compiled with integrated FUSE support
  the ntfs-3g binary is at least version 1.2506
  the ntfs-3g binary is set to setuid-root
  the user has access right to the volume"/>

    <meta property="og:title" content="自动mountntfs" />
<meta property="og:description" content="/etc/fstab
UUID=&quot;60CA0B46CA0B17C4&quot; /mnt/lenovo ntfs defaults,noauto,user,exec 0 0
ntfs-3g 需要一些设置： https://www.tuxera.com/community/ntfs-3g-faq/#useroption
Why do I get &ldquo;fusermount: option blkdev is privileged&rdquo; error?
Unprivileged block device mounts work only if all the below requirements are met:
  ntfs-3g is compiled with integrated FUSE support
  the ntfs-3g binary is at least version 1.2506
  the ntfs-3g binary is set to setuid-root
  the user has access right to the volume" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://1980204066.github.io.git/2018/12/16/%E8%87%AA%E5%8A%A8mountntfs/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-16T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-12-16T00:00:00+00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://1980204066.github.io.git"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <h1>不动闲心 の blog</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/tags/">Tags</a>
      </nav>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vehicula turpis sit amet elit pretium.</p>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">自动mountntfs</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Dec 16, 2018
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          1 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://1980204066.github.io.git/tags/it/">it</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>/etc/fstab</p>
<p>UUID=&quot;60CA0B46CA0B17C4&quot; /mnt/lenovo        ntfs   
defaults,noauto,user,exec 0 0</p>
<p>ntfs-3g
需要一些设置： <a href="https://www.tuxera.com/community/ntfs-3g-faq/#useroption">https://www.tuxera.com/community/ntfs-3g-faq/#useroption</a></p>
<p><strong>Why do I get &ldquo;fusermount: option blkdev is privileged&rdquo; error?</strong></p>
<p>Unprivileged block device mounts work only if all the below requirements
are met:</p>
<ol>
<li>
<p>ntfs-3g is compiled with integrated FUSE support</p>
</li>
<li>
<p>the ntfs-3g binary is at least version 1.2506</p>
</li>
<li>
<p>the ntfs-3g binary is set to setuid-root</p>
</li>
<li>
<p>the user has access right to the volume</p>
</li>
<li>
<p>the user has access right to the mount point</p>
</li>
</ol>
<p>The root user can make an ntfs-3g binary setuid-root as shown below
  chown root $(which ntfs-3g)
  chmod 4755 $(which ntfs-3g)
In such case the driver will also be able</p>
<ul>
<li>
<p>to fix common FUSE kernel module loading problems</p>
</li>
<li>
<p>to create the required but sometimes incorrectly removed or missing
FUSE device file</p>
</li>
</ul>
<p>Please note that using setuid-root can result unforeseen privilege
escalation and its usage is discouraged. Only the absolutely trusted
users must be granted such access. Below is an example how this can be
done for users in the ntfsuser group to be able to mount any NTFS volume
if they have also the needed volume access rights.
  addgroup ntfsuser
  chown root:ntfsuser $(which ntfs-3g)
  chmod 4750 $(which ntfs-3g)
  usermod -aG ntfsuser allowed-user
The setuid-root ntfs-3g driver applies the principle of least privilege
during its lifetime as a safety measure.</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
